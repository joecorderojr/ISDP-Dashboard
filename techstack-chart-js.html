<script>

const Q2S = document.getElementById('Q2S').getContext('2d');
const Q2SMain = document.getElementById('Q2SMain').getContext('2d');

const colors = {
    critical: '#91243E',
    high: '#DD4B50',
    medium: '#F18C43',
    low: '#F8C851'
  };

  const originalData = <?!=JSON.stringify(vaSummary_data)?>;
  const chartData = originalData.map(value => value === 0 ? 0.5 : value);

  const Q2Sdata = {
    labels: ['Critical', 'High', 'Medium', 'Low'],
    datasets: [
      {
        data: chartData, 
        backgroundColor: [
          colors.critical,
          colors.high,
          colors.medium,
          colors.low
        ],
        borderColor: [
          colors.critical,
          colors.high,
          colors.medium,
          colors.low
        ],
        borderWidth: 1,
        borderRadius: 4,
        datalabels: {
          color: 'white',
          display: true,
          formatter: (value) => {
            return value === 0.5 ? 0 : value;
          }
          
        }
      },
      
    ],
  }; 

const Q2SdataMain = {
    labels: ['C', 'H', 'M', 'L'],
    datasets: [
      {
        data: chartData, 
        backgroundColor: [
          colors.critical,
          colors.high,
          colors.medium,
          colors.low
        ],
        borderColor: [
          colors.critical,
          colors.high,
          colors.medium,
          colors.low
        ],
        borderWidth: 1,
        borderRadius: 4,
        datalabels: {
          color: 'white',
          display: true,
          formatter: (value) => {
            return value === 0.5 ? 0 : value;
          }
        }
      },
      
    ],
  }; 

const Q2config = {
    type: 'bar', // Specify chart type
    data: Q2Sdata,
    options: {
        responsive: true,
        plugins: {
            legend: { display: false  },
            title: {
                display: false,
                text: '<?!=vaPeriod?>',
                color: 'white'
            },
            tooltip: {
                enabled: true
            }
        },
        scales: {
            x: { 
                ticks: {
                    color: 'white', // Set Y-axis tick label color to white
                    display: true
                },
                title: {
                    display: false,
                    
                }
            },
            y: { 
                ticks: {
                    color: 'white' // Set Y-axis tick label color to white
                },
                title: {
                    display: false,
                },
                beginAtZero: true // Start Y-axis from zero
            }
        }
    }
};

const Q2Mainconfig = {
    type: 'bar', // Specify chart type
    data: Q2SdataMain,
    options: {
        responsive: true,
        plugins: {
            datalabels: { display: false },
            legend: { display: false },
            title: {
                display: false,
                text: '<?!=vaPeriod?>',
                color: 'white'
            },
            tooltip: {
                enabled: true
            }
        },
        scales: {
            x: { 
                ticks: {
                    color: 'white', // Set Y-axis tick label color to white
                    display: true
                },
                title: {
                    display: false,
                    
                }
            },
            y: { 
                ticks: {
                    color: 'white', // Set Y-axis tick label color to white
                    display: false
                },
                title: {
                    display: false,
                },
                beginAtZero: true // Start Y-axis from zero
            }
        }
    }
};

Q2Schart = new Chart(Q2S, Q2config);
Q2SMainchart = new Chart(Q2SMain, Q2Mainconfig);

 
</script>