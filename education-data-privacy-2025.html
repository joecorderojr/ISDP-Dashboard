<? if (typeof dataPrivacyTrainings2025 !== 'undefined' && dataPrivacyTrainings2025.length > 1) { ?>
<div class="dashboard-table-container">
    <table class="dashboard-table">
        <thead>
            <tr>
                <th>Unit</th>
                <th># Employees</th>
                <th>In-progress</th>
                <th>Completed</th>
                <th>% Completed</th> 
                <th>% Quiz Performance</th>
            </tr>
        </thead>
        <tbody>

          <? dataPrivacyTrainings2025.map((obj, index) => { 
            
              const isEven = index % 2 === 0;
              const arrayLength = Array.isArray(dataPrivacyTrainings2025) ? dataPrivacyTrainings2025.length : 0;
              const isLastRow = index === (arrayLength - 1) && arrayLength > 0;

              // 3. Combine classes for dynamic styling
            let rowClass = '';
            if (isEven) {
              rowClass += 'even-row';
            }
            if (isLastRow) {
              rowClass += ' last-row';
            } 
            ?>

          <?if(!isLastRow) {?>
          
            <?if(obj.employeeCount !== 0) {?>

            <!-- Access data using array indexing or object keys, based on what 'obj' is -->
            <tr>
              <td><?= obj.unit ?></td>
              <td><?= obj.employeeCount ?></td>
              <td>
                <? if(obj.inProgressCount === 0 || hasAccessRoleInTrainings === false) {?>
                  <?=obj.inProgressCount?>
                <?} else {?>
                <button type="button" 
                    class="btn btn-link" 
                    data-bs-toggle="modal" 
                    data-modal-type="dataPrivacy2025" 
                    data-modal-unit="<?=obj.unit?>" 
                    data-modal-status="In Progress" 
                    data-bs-target="#modalDocument">
                    <?=obj.inProgressCount?>
                </button>
              <?}?>
              </td>
              <td>
                <? if(obj.completedCount === 0 || hasAccessRoleInTrainings === false) {?>
                  <?=obj.completedCount?>
                <?} else {?>
                <button type="button" 
                    class="btn btn-link" 
                    data-bs-toggle="modal" 
                    data-modal-type="dataPrivacy2025" 
                    data-modal-unit="<?=obj.unit?>" 
                    data-modal-status="Completed" 
                    data-bs-target="#modalDocument">
                    <?=obj.completedCount?>
                </button>
              <?}?>
              </td>
              <td><?= obj.pctCompleted ?></td>
              <td><?= obj.pctAvgQuiz ?></td>
            </tr>
            <?}?>
          <?} else {?>
            <tfoot class="total-row">
              <td><?= obj.unit ?></td>
              <td><?= obj.employeeCount ?></td>
              <td><?= obj.inProgressCount ?></td>
              <td><?= obj.completedCount ?></td>
              <td><?= obj.pctCompleted ?></td>
              <td><?= obj.pctAvgQuiz ?></td>
            </tfoot>
          <?}?>
        <? }); ?>
          
        </tbody>
    </table>
</div>
<? } else { ?>
  <p class="text-center mt-4">No data available for 2025.</p>
<? } ?>
